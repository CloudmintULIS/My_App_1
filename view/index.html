<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>🌸 AI Camera - English With Me 🌸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- Thanh người dùng -->
  <div class="user-bar">
    👤 Welcome, <strong>{{ username }}</strong>!
    {% if role == 'admin' %}
      <a href="{{ url_for('admin.dashboard') }}" class="admin-btn">⚙️ Admin</a>
    {% endif %}
    <a href="{{ url_for('auth.logout') }}" class="logout-btn">🚪 Logout</a>
  </div>

  <h2 class="title">📷 English with me 💖</h2>

  <!-- Camera + preview + kết quả -->
  <div class="camera-wrapper">
    <div class="video-container">
      <video id="webcam" autoplay muted playsinline></video>
      <canvas id="canvas" style="display:none;"></canvas>

      <!-- Preview ảnh nhỏ góc video -->
      <img id="preview-img" class="preview-img" alt="Preview">
    </div>

    <!-- Kết quả hiển thị **dưới video** -->
    <div id="result" class="result-box">Hãy chụp ảnh hoặc chọn ảnh 📸</div>
  </div>

  <!-- Zoom -->
  <div class="zoom-container" style="display:none;">
    🔍 Zoom: <input type="range" id="zoom-slider">
  </div>

  <!-- Nút chức năng -->
  <div class="button-container">
    <button id="switch-btn" class="btn btn-switch">🔄 Chuyển camera</button>
    <button id="capture-btn" class="btn btn-capture">📸 Chụp & Nhận diện</button>
    <label for="upload-input" class="btn btn-upload">🖼️ Chọn ảnh</label>
    <input type="file" id="upload-input" accept="image/*" style="display:none;">
    <a href="{{ url_for('review.review') }}" class="btn btn-review">📚 Ôn tập</a>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>